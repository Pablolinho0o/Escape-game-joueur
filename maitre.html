<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ma√Ætre du Jeu - Carnaval Myst√©rieux</title>
<style>
body{
margin:0;
font-family:Georgia, serif;
text-align:center;
color:black;
background:url('images/fond.png') no-repeat center center fixed;
background-size:cover;
overflow:hidden;
}
button{
    background:gold;
    border:none;
    padding:12px 20px;
    font-size:18px;
    margin:5px;
    border-radius:10px;
    font-weight:bold;
}
#res, #answers{
    margin-top:20px;
    font-size:20px;
}
</style>
</head>
<body>

<h1>üé≠ Ma√Ætre du Jeu</h1>

<button onclick="showRanking()">Afficher le classement</button>
<button onclick="showCorrectAnswers()">Voir les r√©ponses correctes</button>
<button onclick="resetAll()">R√©initialiser les r√©sultats</button>

<div id="res"></div>
<div id="answers"></div>

<script>

// R√©ponses correctes aux √©nigmes
const correctAnswers = [
    "AD√àLE EXARCHOPOULOS, AUDREY FLEUROT , BRIGITTE BARDOT ,LOUIS DE FUNES ",
    "MASQUE , GANTS , SLIP, BAGUE ",
    "HAMBURGER , TACOS , CROISSANT , PIZZA",
    "SABRINA , VINCENT , DARIO , VINCENT",
    "LE BAC , LE NEZ , MA BITE , LE SCORPION",
    "19/01/1994 , 31/01/1994 , 05/02/1994 , 22/11/1994",
    "DARIO" // √©nigme finale
];

// Afficher classement
function showRanking(){

    let r = JSON.parse(localStorage.getItem("escapeResults") || "[]");

    if(r.length === 0){
        document.getElementById("res").innerHTML = "<p>Aucun r√©sultat enregistr√©</p>";
        return;
    }

    // Trier par temps (plus rapide en premier)
    r.sort((a,b)=>{

        let [ma,sa] = a.time.split(':').map(Number);
        let [mb,sb] = b.time.split(':').map(Number);

        return (ma*60+sa) - (mb*60+sb);

    });

    let html="<ol>";

    r.forEach(x=>{
        html += `<li>${x.team} : ${x.time}</li>`;
    });

    html += "</ol>";

    document.getElementById("res").innerHTML = html;
}

// Voir r√©ponses
function showCorrectAnswers(){

    let html="<h2>R√©ponses correctes aux √©nigmes</h2><ol>";

    correctAnswers.forEach((a,i)=>{
        html += `<li>Question ${i+1} : <b>${a}</b></li>`;
    });

    html += "</ol>";

    document.getElementById("answers").innerHTML = html;
}

// Reset
function resetAll(){

    if(confirm("Voulez-vous vraiment supprimer tous les r√©sultats ?")){

        localStorage.removeItem("escapeResults");
        localStorage.removeItem("escapeProgress");

        document.getElementById("res").innerHTML="";
        document.getElementById("answers").innerHTML="";

        alert("R√©sultats r√©initialis√©s !");

    }

}

</script>

</body>
</html>
