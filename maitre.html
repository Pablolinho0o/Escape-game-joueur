<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ma√Ætre du Jeu - Carnaval Myst√©rieux</title>
<style>
body{
    font-family:Georgia, serif;
    text-align:center;
    background:linear-gradient(135deg,#2b0a3d,#6b1e4d,#b58a2c);
    color:white;
}
button{
    background:gold;
    border:none;
    padding:12px 20px;
    font-size:18px;
    margin-top:10px;
    border-radius:10px;
    font-weight:bold;
}
#res{
    margin-top:20px;
    font-size:20px;
}
</style>
</head>
<body>

<h1>üé≠ Ma√Ætre du Jeu - Classement</h1>

<button onclick="show()">Afficher le classement</button>
<button onclick="resetAll()">R√©initialiser les r√©sultats</button>

<div id="res"></div>

<script>
// Afficher le classement
function show(){
    let r = JSON.parse(localStorage.getItem("escapeResults")||"[]");
    if(r.length===0){
        document.getElementById("res").innerHTML = "<p>Aucun r√©sultat enregistr√©</p>";
        return;
    }
    // Trier par temps croissant (plus rapide = premier)
    r.sort((a,b)=> {
        let [ma,sa] = a.time.split(':').map(Number);
        let [mb,sb] = b.time.split(':').map(Number);
        return (ma*60+sa) - (mb*60+sb);
    });

    let html="<ol>";
    r.forEach(x=>{
        html += `<li>${x.team} : ${x.time}</li>`;
    });
    html += "</ol>";

    document.getElementById("res").innerHTML = html;
}

// R√©initialiser tous les r√©sultats
function resetAll(){
    if(confirm("Voulez-vous vraiment supprimer tous les r√©sultats ?")){
        localStorage.removeItem("escapeResults");
        localStorage.removeItem("escapeProgress");
        document.getElementById("res").innerHTML="";
        alert("R√©sultats r√©initialis√©s !");
    }
}
</script>

</body>
</html>
